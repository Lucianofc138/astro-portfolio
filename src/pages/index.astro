---
import MainLayout from '../layouts/MainLayout.astro';
import data from '../data.en.json';
import Table from '../components/Table.astro'
import ListWithDetail from "../components/ListWithDetail.astro";
import InteractiveListWithDetail from "../components/InteractiveListWithDetail";

const headers: string[] = ["#", "Role / Position", "Company", "Start date", "Finish date"];
const rowKeys: string[] = ["role", "company", "startDate", "endDate"];
const rowsInfo: object[] = data.experience;

interface ListWithDetailRow {
	primary: string;
	secondary: string;
	startDate: string;
	endDate: string;
	detail: string;
	image: string;
}

const listElements: ListWithDetailRow[] = rowsInfo.map(e => ({
	primary: e.role,
	secondary: e.company,
	startDate: e.startDate,
	endDate: e.endDate,
	detail: e.description,
	image: e.image
}));
---

<MainLayout>
	<main>
		<h2>Experience</h2>
		<!-- <ListWithDetail listElements={listElements} primaryLabel="Role / Company"/> -->
		<InteractiveListWithDetail
			client:load
			listElements={listElements}
			primaryLabel="Role / Company"
		/>
	</main>
</MainLayout>
<style>
	main {
		display: flex;
		flex-direction: column;
		/*border: 2px solid blue;*/
		max-height: 100%;
		overflow-y: hidden;
		font-style: normal;
		gap: 1em;
	}

	h2 {
		font-size: 42px;
		margin: 0 0 10px 0.5em;
	}
</style>
